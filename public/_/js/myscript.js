function triggerEdit(e){$.get("toEditBank",{id:e},function(t){t&&($(".alert").remove(),$.each(t,function(t,a){$("#library-action").val(a.id),$(".name").val(a.BankName),$(".address").val(a.BAddress),$(".telephone").val(a.Telephone),$(".deactivate").attr("href","/delete-bank/"+e),$(".delete").show()}))}),$("#bank-library").modal("show")}function triggerEditBranch(e){$.get("toEditBranch",{id:e},function(t){t&&($(".alert").remove(),$.each(t,function(t,a){$("#library-action").val(a.id),$(".name").val(a.BranchName),$(".address").val(a.BAddress),$(".telephone").val(a.Telephone),$(".deactivate").attr("href","/delete-branch/"+e),$(".delete").show()}))}),$("#branch-library").modal("show")}function triggerEditCustomer(e){$.get("toEditCustomer",{id:e},function(t){t&&($(".alert").remove(),$.each(t,function(t,a){$("#library-action").val(a.id),$(".name").val(a.CustomerName),$(".address").val(a.Address),$(".telephone1").val(a.Telephone1),$(".telephone2").val(a.Telephone2),$(".contact-person").val(a.ContactPerson),$(".credit-limit").val(a.CreditLimit),$(".deactivate").attr("href","/delete-customer/"+e),$(".delete").show()}))}),$("#customer-library").modal("show")}function editCategory(e){$("#modalCatError").addClass("hidden");var t=$(".category").DataTable(),a=jQuery.trim($("#catName"+e).text()),o=t.row("#category"+e).index();$("#catID").val(e),$("#catIndex").val(o),$("#txtCatName").val(a),$("#myModal").modal("show"),$(".modal-title").text("Edit "+a)}function editSupplier(e){$(".supplier").DataTable();$(".modal-title").text("Edit Supplier"),$("#supplierModal").modal("show"),$.post("/fetchSupplier",{id:e},function(e){$("#txtSupID").val(e.id),$("#SupplierName").val(e.SupplierName),$("#Address").val(e.Address),$("#Telephone1").val(e.Telephone1),$("#Telephone2").val(e.Telephone2),$("#ContactPerson").val(e.ContactPerson)})}function editProduct(e){$(".product").DataTable();$(".modal-title").text("Edit Product"),$("#productModal").modal("show"),$.post("/fetchProduct",{id:e},function(e){$("#txtProdID").val(e.id),$("#ProductCatNo").val(e.ProductCatNo),$("#ProductName").val(e.ProductName),$("#BrandName").val(e.BrandName),$("#WholeSaleUnit").val(e.WholeSaleUnit),$("#RetailUnit").val(e.RetailUnit),$("#RetailQtyPerWholeSaleUnit").val(e.RetailQtyPerWholeSaleUnit),$("#Reorderpoint").val(e.Reorderpoint),$("#Markup1").val(e.Markup1),$("#Markup2").val(e.Markup2),$("#Markup3").val(e.Markup3),$("#ActiveMarkup").val(e.ActiveMarkup)})}$(function(){$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="_token"]').attr("content")}})}),$(document).ready(function(){$(".pops").popover({trigger:"hover"}),$("a").tooltip(),$(".add-customer").click(function(){$("#library-action").val(""),$(".name").val(""),$(".address").val(""),$(".telephone1").val(""),$(".telephone2").val(""),$(".contact-person").val(""),$(".credit-limit").val(""),$(".delete").hide()}),$(".add-branch").click(function(){$("#library-action").val(""),$(".name").val(""),$(".address").val(""),$(".telephone").val(""),$(".delete").hide()});var e=document.title;document.getElementsByTagName("body")[0].id=e,$("ul.nav li.dropdown").hover(function(){$(".dropdown-menu",this).fadeIn()},function(){$(".dropdown-menu",this).fadeOut("fast")}),$("#"+e+" a:contains('"+e+"')").parent().addClass("active"),$("#"+e+" a:contains("+e+")").parent().addClass("active"),$(".sidehead ul:contains("+e+")").removeClass("collapse"),$("#sidebar-wrapper").hover(function(e){e.preventDefault(),$("#wrapper").addClass("toggled")},function(){$("#wrapper").removeClass("toggled")}),$("#ProductCategory").keyup(function(){$("#catError").addClass("hidden")}),$("#saveCategory").click(function(e){e.preventDefault();var t=jQuery.trim($("#ProductCategory").val());if(t&&0!=t.length){var a=$(".category").dataTable();$.post("/addCategory",{cat:t},function(e){if(0==e)$("#catError").text("Category already exists!"),$("#catError").removeClass("hidden");else{{var t=a.fnAddData([e.id,e.ProdCatName,'<button class="btn btn-success btn-xs" onclick="editCategory('+e.id+');"><i class="fa fa-cog"></i> Edit</button>']),o=a.fnGetNodes(t);$(o).attr("id","category"+e.id)}$(" td:nth-child(1)").attr("id","catName"+e.id),$("#catError").addClass("hidden")}})}else $("#catError").text("Category text field is empty!"),$("#catError").removeClass("hidden");$("#ProductCategory").val(" ")}),$("#categoryBtn").click(function(){var e=$(".category").DataTable(),t=$("#catID").val(),a=$("#catIndex").val(),o=$("#txtCatName").val(),l=jQuery.trim($("#txtCatName").val());l&&0!=l.length?$.post("/editCategory",{id:t,catName:o},function(t){0==t?($("#modalCatError").text("Category already exists!"),$("#modalCatError").removeClass("hidden")):(e.cell(a,1).data(t).draw(),$("#myModal").modal("hide"))}):($("#modalCatError").text("Text field is empty!"),$("#modalCatError").removeClass("hidden"))}),$("#addSupplier").click(function(){$(".modal-title").text("Add new Supplier"),$("#txtSupID").val(null),$("input[type=text]").val(null),$("#supplierModal").modal("show")}),$("#addProduct").click(function(){$(".modal-title").text("Add new Product"),$("#txtProdID").val(null),$("input[type=text]").val(null),$("#productModal").modal("show")}),$(".sidehead").click(function(){$(this).children("ul").first().stop(!0,!0).slideToggle(500)}),$("#telephone,#telephone1,#telephone2").keydown(function(e){e.shiftKey||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)?8!=e.keyCode&&9!=e.keyCode&&107!=e.keyCode&&187!=e.keyCode&&116!=e.keyCode&&16!=e.keyCode&&109!=e.keyCode&&189!=e.keyCode&&($(".alert").show(),e.preventDefault()):$(".alert").hide()})});